<!doctype html>
<html lang="en" ng-app="myapp">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="wiph=device-wiph, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <script src="assets/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="assets/test16.css">
    <script type="text/javascript">
        angular
        .module( "myapp" , [ ] )
        .controller( "TransactionController" , [
            "$scope",
            function controller( $scope ) {
                $scope.transactionList = [
                    {
                        "stamp" : "4354654yr6ytry6",
                        "title" : "Reg",
                        "description" : "Reg",
                        "firstname" : "Reg",
                        "lastname" : "Reg",
                        "status" : "enable",
                        "user_refernce" : "1321ewdsaxz",
                        "email_address" : "reg@gmail.com",
                        "mobile_number" : "132445543",
                        "home_address" : "Philippin"
                    },

                    {
                        "stamp" : "aaaayr6ytry6",
                        "title" : "Doanh",
                        "description" : "Doanh",
                        "firstname" : "Doanh",
                        "lastname" : "Doanh",
                        "status" : "disenable",
                        "user_refernce" : "1321ewdsaxz",
                        "email_address" : "doanh@gmail.com",
                        "mobile_number" : "132445543s",
                        "home_address" : "vietnam"
                    },

                    {
                        "stamp" : "1aaaayr6ytry6",
                        "title" : "Hue",
                        "description" : "Hue",
                        "firstname" : "Hue",
                        "lastname" : "Hue",
                        "status" : "enable",
                        "user_refernce" : "1321ewdsaxz",
                        "email_address" : "hue@gmail.com",
                        "mobile_number" : "132445543",
                        "home_address" : "VietNam"
                    }
                ];

                $scope.hasTransaction = function hasTransaction( ) {
                    if ( $scope.transactionList.lengh == 0 ) {
                        return false;
                    }

                    return true;
                };

                $scope.displayTransaction = function displayTransaction( transaction ) {
                  $scope.transactionList.forEach( function onEachItem( _transaction ) {
                    if(_transaction.stamp != transaction.stamp ) {
                      _transaction._viewMode = false;
                    };
                  } )

                  transaction._viewMode =! transaction._viewMode;
                }
            }
        ] )
    </script>
  </head>
  <body ng-controller="TransactionController">
    <h1>Transaction</h1>
    <div class="container">
        <table class="table">
            <thead>
                <tr>
                    <th><input type="checkbox" value="">Stamp</th>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Firstname</th>
                    <th>Lastname</th>
                </tr>
            </thead>
            <tbody
                ng-repeat="transaction in transactionList"
                ng-if="hasTransaction( )"
            >
                <tr
                    class="title"
                    ng-click ="displayTransaction( transaction )"
                >
                    <td scope="row" >
                        <input type="checkbox" value="">
                        {{ transaction.stamp }}
                    </td>
                    <td>{{ transaction.title }}</td>
                    <td>{{ transaction.description }}</td>
                    <td>{{ transaction.firstname }}</td>
                    <td>{{ transaction.lastname }}</td>
                </tr >
                <tr
                    class="detail"
                    ng-if="transaction._viewMode"
                >
                    <td class="title-detail">
                        <h4>Transaction Details</h4>
                    </td>
                    <td class="detail-transaction">
                        <div class="detail-panel">
                            <div class="header">
                                <p>Stamp:</p>
                                <p>Title:</p>
                                <p>Description:</p>
                                <p>Status:</p>
                                <p>User Refernce</p>
                                <p>Firstname:</p>
                                <p>Lastname:</p>
                                <p>Email Address:</p>
                                <p>Mobile Number:</p>
                                <p>Home Address:</p>
                            </div>
                            <div class="content">
                                <p>{{ transaction.stamp }}</p>
                                <p>{{ transaction.title }}</p>
                                <p>{{ transaction.description }}</p>
                                <p>
                                    <span
                                        class="label label-primary"
                                        ng-if="transaction.status == 'enable'"
                                    >
                                        Enable
                                    </span>
                                    <span
                                        class="label label-danger"
                                        ng-if="transaction.status == 'disenable'"
                                    >
                                        Disenable
                                    </span>
                                </p>
                                <p>{{ transaction.user_refernce }}</p>
                                <p>{{ transaction.firstname }}</p>
                                <p>{{ transaction.lastname }}</p>
                                <p>{{ transaction.email_address }}</p>
                                <p>{{ transaction.mobile_number }}</p>
                                <p>{{ transaction.home_address }}</p>
                            </div>
                        </div>
                    </td>
                    <td class="title-detail detail-tab-transaction">
                        <div class="discount-price" >
                            <div class="tab-panel" role="tabpanel">
                                <ul class="nav nav-tabs" role="tablist" data-tabs="tabs">
                                    <li class="active">
                                        <a role="tab" data-toggle="tab">
                                            Product
                                        </a>
                                    </li>
                                    <li>
                                        <a role="tab" data-toggle="tab">
                                            Price
                                        </a>
                                    </li>
                                </ul>
                            </div>
                                <div class="tab-content">
                                    <div class="tab-pane fade in active">
                                        <div class="item-manager no-left-right-padding">
                                            <div class="item-list item-panel-discount-price">
                                                <table class="table">
                                                    <label for="" style="padding:10px 15px">Product List</label>
                                                    <thead>
                                                        <tr class="title-header">
                                                            <th><input type="checkbox" value="">Reference</th>
                                                            <th>Stamp</th>
                                                            <th>Code</th>
                                                            <th>Title</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td scope="row" >
                                                                <input type="checkbox" value="">
                                                                110000AD
                                                            </td>
                                                            <td>110000AD</td>
                                                            <td>110000AD</td>
                                                            <td>Ballpen</td>
                                                        </tr >
                                                        <tr class="detail">
                                                            <td class="title-detail">
                                                                <h4>Product Details</h4>
                                                            </td>
                                                            <td class="detail-transaction">
                                                                <div class="header">
                                                                    <p>Reference:</p>
                                                                    <p>Stamp:</p>
                                                                    <p>Code:</p>
                                                                    <p>Title:</p>
                                                                </div>
                                                                <div class="content">
                                                                    <p>Reg</p>
                                                                    <p>Reg</p>
                                                                    <p>Reg</p>
                                                                    <p>Reg</p>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            <div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="assets/jquery-3.3.1.min.js"></script>
    <script src="assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
  </body>
</html>
